; Listing generated by Microsoft (R) Optimizing Compiler Version 18.00.21005.1 

	TITLE	F:\songmm_moon_stone_obs\OBS\Source\OBSTools.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB OLDNAMES

PUBLIC	?HasSSE2Support@OBSTools@@SAHXZ			; OBSTools::HasSSE2Support
; Function compile flags: /Odtp
; File f:\songmm_moon_stone_obs\obs\source\obstools.cpp
;	COMDAT ?HasSSE2Support@OBSTools@@SAHXZ
_TEXT	SEGMENT
tv70 = -24						; size = 4
_cpuInfo$ = -20						; size = 16
__$ArrayPad$ = -4					; size = 4
?HasSSE2Support@OBSTools@@SAHXZ PROC			; OBSTools::HasSSE2Support, COMDAT

; 13   : {

	push	ebp
	mov	ebp, esp
	sub	esp, 24					; 00000018H
	mov	eax, DWORD PTR ___security_cookie
	xor	eax, ebp
	mov	DWORD PTR __$ArrayPad$[ebp], eax
	push	ebx
	push	esi

; 14   : 	int cpuInfo[4];
; 15   : 	//SSE2ÊÇIA-32¼Ü¹¹µÄÑÓÉì
; 16   : 	__cpuid(cpuInfo, 1);

	lea	esi, DWORD PTR _cpuInfo$[ebp]
	mov	eax, 1
	xor	ecx, ecx
	cpuid
	mov	DWORD PTR [esi], eax
	mov	DWORD PTR [esi+4], ebx
	mov	DWORD PTR [esi+8], ecx
	mov	DWORD PTR [esi+12], edx

; 17   : 
; 18   : 	return (cpuInfo[3] & (1 << 26)) != 0;

	mov	eax, 4
	imul	ecx, eax, 3
	mov	edx, DWORD PTR _cpuInfo$[ebp+ecx]
	and	edx, 67108864				; 04000000H
	je	SHORT $LN3@HasSSE2Sup
	mov	DWORD PTR tv70[ebp], 1
	jmp	SHORT $LN4@HasSSE2Sup
$LN3@HasSSE2Sup:
	mov	DWORD PTR tv70[ebp], 0
$LN4@HasSSE2Sup:
	mov	eax, DWORD PTR tv70[ebp]

; 19   : }

	pop	esi
	pop	ebx
	mov	ecx, DWORD PTR __$ArrayPad$[ebp]
	xor	ecx, ebp
	call	@__security_check_cookie@4
	mov	esp, ebp
	pop	ebp
	ret	0
?HasSSE2Support@OBSTools@@SAHXZ ENDP			; OBSTools::HasSSE2Support
_TEXT	ENDS
END
